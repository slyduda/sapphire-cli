{"version":3,"file":"index.cjs","sources":["../../source/index.js"],"sourcesContent":["import jsYaml from 'js-yaml'\n\n// we've got to do it this way because the ES importer in Node can't\n// destructure CommonJS modules at import time\nconst { safeLoad } = jsYaml\n\nconst findMetadataIndices = (mem, item, i) => {\n  if (/^---/.test(item)) {\n    mem.push(i)\n  }\n  return mem\n}\n\nconst parseMetadata = ({ lines, metadataIndices }) => {\n  if (metadataIndices.length > 0) {\n    let metadata = lines.slice(metadataIndices[0] + 1, metadataIndices[1])\n    return safeLoad(metadata.join('\\n'))\n  }\n  return {}\n}\n\nconst parseContent = ({ lines, metadataIndices }) => {\n  if (metadataIndices.length > 0) {\n    lines = lines.slice(metadataIndices[1] + 1, lines.length)\n  }\n  return lines.join('\\n')\n}\n\nconst parseMD = contents => {\n  const lines = contents.split('\\n')\n  const metadataIndices = lines.reduce(findMetadataIndices, [])\n  const metadata = parseMetadata({ lines, metadataIndices })\n  const content = parseContent({ lines, metadataIndices })\n  return { metadata, content }\n}\n\nexport default parseMD\n"],"names":[],"mappings":";;;;;;;;AACA;AACA;AACA,IAAI,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;AAC/B;AACA,IAAI,mBAAmB,GAAG,SAAS,mBAAmB,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC,EAAE;AACrE,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;AACzB,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AAChB,GAAG;AACH;AACA,EAAE,OAAO,GAAG,CAAC;AACb,CAAC,CAAC;AACF;AACA,IAAI,aAAa,GAAG,SAAS,aAAa,CAAC,IAAI,EAAE;AACjD,EAAE,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK;AACxB,MAAM,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;AAC7C;AACA,EAAE,IAAI,eAAe,CAAC,MAAM,GAAG,CAAC,EAAE;AAClC,IAAI,IAAI,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3E,IAAI,OAAO,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;AACzC,GAAG;AACH;AACA,EAAE,OAAO,EAAE,CAAC;AACZ,CAAC,CAAC;AACF;AACA,IAAI,YAAY,GAAG,SAAS,YAAY,CAAC,KAAK,EAAE;AAChD,EAAE,IAAI,KAAK,GAAG,KAAK,CAAC,KAAK;AACzB,MAAM,eAAe,GAAG,KAAK,CAAC,eAAe,CAAC;AAC9C;AACA,EAAE,IAAI,eAAe,CAAC,MAAM,GAAG,CAAC,EAAE;AAClC,IAAI,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;AAC9D,GAAG;AACH;AACA,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC1B,CAAC,CAAC;AACF;AACA,IAAI,OAAO,GAAG,SAAS,OAAO,CAAC,QAAQ,EAAE;AACzC,EAAE,IAAI,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;AACnC,EAAE,IAAI,eAAe,GAAG,KAAK,CAAC,MAAM,CAAC,mBAAmB,EAAE,EAAE,CAAC,CAAC;AAC9D,EAAE,IAAI,QAAQ,GAAG,aAAa,CAAC;AAC/B,IAAI,KAAK,EAAE,KAAK;AAChB,IAAI,eAAe,EAAE,eAAe;AACpC,GAAG,CAAC,CAAC;AACL,EAAE,IAAI,OAAO,GAAG,YAAY,CAAC;AAC7B,IAAI,KAAK,EAAE,KAAK;AAChB,IAAI,eAAe,EAAE,eAAe;AACpC,GAAG,CAAC,CAAC;AACL,EAAE,OAAO;AACT,IAAI,QAAQ,EAAE,QAAQ;AACtB,IAAI,OAAO,EAAE,OAAO;AACpB,GAAG,CAAC;AACJ,CAAC;;;;"}